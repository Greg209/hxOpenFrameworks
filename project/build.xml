<xml>
	<include name="${HXCPP}/build-tool/BuildCommon.xml"/>
	
	<set name="OF_DIR" value="D:/of_preRelease_v0061_all" if="windows" />
	<set name="OF_DIR" value="/Users/andylihahaha/Documents/of_preRelease_v0061_all" if="macos" />

	<set name="OF_PLATFORM" value="vs2008" if="windows" />
	<set name="OF_PLATFORM" value="osx" if="macos" />
	
	<set name="ABI" value="-MD" />
	
	<files id="oF_Files">
		<file name="api.cpp"/>
		
		<compilerflag value = "-I${OF_DIR}/libs/openFrameworks"/>
		<compilerflag value = "-I${OF_DIR}/libs/openFrameworks/graphics"/>
		<compilerflag value = "-I${OF_DIR}/libs/openFrameworks/app"/>
		<compilerflag value = "-I${OF_DIR}/libs/openFrameworks/sound"/>
		<compilerflag value = "-I${OF_DIR}/libs/openFrameworks/utils"/>
		<compilerflag value = "-I${OF_DIR}/libs/openFrameworks/communication"/>
		<compilerflag value = "-I${OF_DIR}/libs/openFrameworks/video"/>
		<compilerflag value = "-I${OF_DIR}/libs/openFrameworks/events"/>
		<compilerflag value = "-I${OF_DIR}/libs/glut/include"/>
		<compilerflag value = "-I${OF_DIR}/libs/rtAudio/include"/>
		<compilerflag value = "-I${OF_DIR}/libs/quicktime/include"/>
		<compilerflag value = "-I${OF_DIR}/libs/freetype/include"/>
		<compilerflag value = "-I${OF_DIR}/libs/freetype/include/freetype2"/>
		<compilerflag value = "-I${OF_DIR}/libs/freeImage/include"/>
		<compilerflag value = "-I${OF_DIR}/libs/fmodex/include"/>
		<compilerflag value = "-I${OF_DIR}/libs/videoInput/include"/>
		<compilerflag value = "-I${OF_DIR}/libs/glee/include"/>
		<compilerflag value = "-I${OF_DIR}/libs/glu/include"/>
		<compilerflag value = "-I${OF_DIR}/libs/poco/include"/>
		<compilerflag value = "-I${OF_DIR}/addons"/>
		
		<compilerflag value = "-DWIN32" if="windows"/>
		<compilerflag value = "-DNDEBUG" if="windows"/>
		<compilerflag value = "-D_CONSOLE" if="windows"/>
		<compilerflag value = "-DPOCO_STATIC" if="windows"/>
		<!--
		<compilerflag value = "-D_UNICODE" if="windows"/>
		<compilerflag value = "-DUNICODE" if="windows"/>-->
		<compilerflag value = "-FD" if="windows"/>
		<compilerflag value = "-EHsc" if="windows"/>
		<compilerflag value = "-W3" if="windows"/>
		<compilerflag value = "-c" if="windows"/>
		<compilerflag value = "-TP" if="windows"/>

		
		<compilerflag value = "-D__MACOSX_CORE__" if="macos"/>
		<compilerflag value = "-lpthread" if="macos"/>
	</files>
	
	<target id="hxOpenFrameworks.ndll" tool="linker" toolid="dll" output="hxOpenFrameworks">
		<files id="oF_Files"/>
		<ext value=".ndll"/>
		<outdir name="../ndll/${BINDIR}"/>
		
		<lib name="${LIB_LINK}"/>
		<lib name="-LIBPATH:${OF_DIR}/libs/glut/lib/${OF_PLATFORM}"/>
		<lib name="-LIBPATH:${OF_DIR}/libs/rtAudio/lib/${OF_PLATFORM}"/>
		<lib name="-LIBPATH:${OF_DIR}/libs/FreeImage/lib/${OF_PLATFORM}"/>
		<lib name="-LIBPATH:${OF_DIR}/libs/freetype/lib/${OF_PLATFORM}"/>
		<lib name="-LIBPATH:${OF_DIR}/libs/quicktime/lib/${OF_PLATFORM}"/>
		<lib name="-LIBPATH:${OF_DIR}/libs/fmodex/lib/${OF_PLATFORM}"/>
		<lib name="-LIBPATH:${OF_DIR}/libs/videoInput/lib/${OF_PLATFORM}"/>
		<lib name="-LIBPATH:${OF_DIR}/libs/glee/lib/${OF_PLATFORM}"/>
		<lib name="-LIBPATH:${OF_DIR}/libs/glu/lib/${OF_PLATFORM}"/>
		<lib name="-LIBPATH:${OF_DIR}/libs/Poco/lib/${OF_PLATFORM}"/>
		<lib name="-LIBPATH:${OF_DIR}/libs/openFrameworksCompiled/lib/${OF_PLATFORM}"/>
		
		<lib name = '-MANIFEST' if="windows"/>
		<lib name = '-MANIFESTFILE:obj/Release/hxOpenFrameworks.ndll.intermediate.manifest' if="windows"/>
		
		<lib name = '-NODEFAULTLIB:atlthunk.lib' if="windows"/>
		<lib name = '-NODEFAULTLIB:libc.lib' if="windows"/>
		<lib name = '-NODEFAULTLIB:LIBCMT' if="windows"/>
		
		<lib name = '-SUBSYSTEM:CONSOLE' if="windows"/>
		<lib name = '-OPT:REF' if="windows"/>
		<lib name = '-OPT:ICF' if="windows"/>
		<lib name = '-LTCG' if="windows"/>
		<lib name = '-DYNAMICBASE:NO' if="windows"/>
		<!--<lib name = '-MACHINE:X86' if="windows"/>-->
		
		<lib name = 'openframeworksLib.lib' if="windows"/>
		<lib name = 'OpenGL32.lib' if="windows" />
		<lib name = 'GLu32.lib' if="windows" />
		<lib name = 'kernel32.lib' if="windows" />
		<lib name = 'setupapi.lib' if="windows" />
		<lib name = 'glut32.lib' if="windows" />
		<lib name = 'rtAudio.lib' if="windows" />
		<lib name = 'videoInput.lib' if="windows" />
		<lib name = 'libfreetype.lib' if="windows" />
		<lib name = 'FreeImage.lib' if="windows" />
		<lib name = 'qtmlClient.lib' if="windows" />
		<lib name = 'dsound.lib' if="windows" />
		<lib name = 'user32.lib' if="windows" />
		<lib name = 'gdi32.lib' if="windows" />
		<lib name = 'winspool.lib' if="windows" />
		<lib name = 'comdlg32.lib' if="windows" />
		<lib name = 'advapi32.lib' if="windows" />
		<lib name = 'shell32.lib' if="windows" />
		<lib name = 'ole32.lib' if="windows" />
		<lib name = 'oleaut32.lib' if="windows" />
		<lib name = 'uuid.lib' if="windows" />
		<lib name = 'GLee.lib' if="windows" />
		<lib name = 'fmodex_vc.lib' if="windows" />
		<lib name = 'glu32.lib' if="windows" />
		<lib name = 'PocoFoundationmt.lib' if="windows" />
		<lib name = 'PocoNetmt.lib' if="windows" />
		<lib name = 'PocoUtilmt.lib' if="windows" />
		<lib name = 'PocoXMLmt.lib' if="windows" />
		<lib name = 'kernel32.lib' if="windows" />
		<lib name = 'user32.lib' if="windows" />
		<lib name = 'gdi32.lib' if="windows" />
		<lib name = 'winspool.lib' if="windows" />
		<lib name = 'comdlg32.lib' if="windows" />
		<lib name = 'advapi32.lib' if="windows" />
		<lib name = 'shell32.lib' if="windows" />
		<lib name = 'ole32.lib' if="windows" />
		<lib name = 'oleaut32.lib' if="windows" />
		<lib name = 'uuid.lib' if="windows" />
		<lib name = 'odbc32.lib' if="windows" />
		<lib name = 'odbccp32.lib' if="windows" />

		
		<lib name = 'openFrameworksUniversal.a' if="macos" />
		<lib name = 'GLee.a' if="macos" />
		<lib name = 'rtAudio.a' if="macos" />
		<lib name = 'CppUnit.a' if="macos" />
		<lib name = 'PocoFoundation.a' if="macos" />
		<lib name = 'PocoNet.a' if="macos" />
		<lib name = 'PocoUtil.a' if="macos" />
		<lib name = 'PocoXML.a' if="macos" />
		<lib name = 'freetype.a' if="macos" />
		<lib name = 'libfmodex.dylib' if="macos" />
		<lib name = 'freeimage.a' if="macos" />

		<vflag name="-framework" value="AGL" if="macos"/>
		<vflag name="-framework" value="ApplicationServices" if="macos"/>
		<vflag name="-framework" value="AudioToolbox" if="macos"/>
		<vflag name="-framework" value="Carbon" if="macos"/>
		<vflag name="-framework" value="CoreAudio" if="macos"/>
		<vflag name="-framework" value="CoreFoundation" if="macos"/>
		<vflag name="-framework" value="CoreServices" if="macos"/>
		<vflag name="-framework" value="OpenGL" if="macos"/>
		<vflag name="-framework" value="QuickTime" if="macos"/>
		<vflag name="-framework" value="AppKit" if="macos"/>
		<vflag name="-framework" value="Cocoa" if="macos"/>
		<vflag name="-framework" value="IOKit" if="macos"/>
		<vflag name="-framework" value="GLUT" if="macos"/>
	</target>

	<target id="default">
		<target id="hxOpenFrameworks.ndll"/>
	</target>
</xml>
